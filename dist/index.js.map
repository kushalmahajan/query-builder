{"version":3,"file":"index.js","sources":["../src/button/index.js","../src/icons/delete.js","../src/filter/index.js","../src/card/index.js","../src/icons/cross.js","../src/header/index.js","../src/index.js"],"sourcesContent":["import React from 'react'\nimport cx from 'classnames'\n\nconst Base = ({ text, handleClick, className }) => {\n  return (\n    <button\n      className={cx(\n        'px-1 py-1',\n        className,\n        'rounded border-gray-700 border text-white text-sm'\n      )}\n      onClick={() => handleClick()}\n    >\n      <span className='text-center'>{text}</span>\n    </button>\n  )\n}\nconst Button = ({ type, text, handleClick, className }) => {\n  if (type === 'primary') {\n    return (\n      <Base\n        text={text}\n        className={cx('bg-indigo-700', className)}\n        handleClick={handleClick}\n      />\n    )\n  }\n  return <Base text={text} className={className} handleClick={handleClick} />\n}\n\nexport default Button\n","import React from 'react'\n\nconst DeleteIcon = () => {\n  return (\n    <svg\n      width='14'\n      height='14'\n      viewBox='0 0 14 14'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        d='M12.7843 0.25H1.21559C0.437466 0.25 0.399966 0.353125 0.446841 0.939062L1.3234 12.3109C1.3984 12.8875 1.45465 13.0047 2.14372 13.0047H11.8562C12.5453 13.0047 12.6015 12.8875 12.6765 12.3109L13.5531 0.939062C13.6 0.348437 13.5625 0.25 12.7843 0.25Z'\n        fill='#7E8083'\n      />\n    </svg>\n  )\n}\nexport default DeleteIcon\n","import React from 'react'\nimport Select from 'react-select'\nimport Button from '../button'\nimport DeleteIcon from '../icons/delete'\n\nconst fields = [\n  {\n    label: 'Prediction',\n    options: [\n      { label: 'Theme', value: 'theme' },\n      { label: 'Subtheme', value: 'subtheme' },\n      { label: 'Reason', value: 'reason' },\n      { label: 'Language', value: 'language' }\n    ]\n  },\n  {\n    label: 'Common',\n    options: [\n      { label: 'CustomerId', value: 'customer_id' },\n      { label: 'Group 2, option 2', value: 'value_2' }\n    ]\n  }\n]\n\nconst conditions = [\n  {\n    label: 'Equals',\n    value: '=='\n  },\n  {\n    label: 'Does not equals',\n    value: '!='\n  },\n  {\n    label: 'Like',\n    value: '%'\n  }\n]\nconst criterias = [\n  {\n    label: 'Offers',\n    value: 'offers'\n  },\n  {\n    label: 'Promotions',\n    value: 'promotions'\n  }\n]\n\nconst Filter = ({ filterState, setFilterState, rowIndex, removeFilter }) => {\n  const { field, condition, criteria } = filterState\n  return (\n    <div className='flex gap-4 mt-10 mb-5'>\n      <Select\n        value={field}\n        onChange={(selectedOption) =>\n          setFilterState({ item: 'field', selectedOption, rowIndex })\n        }\n        options={fields}\n        styles={{}}\n        className='flex-grow w-full text-sm'\n      />\n\n      <Select\n        value={condition}\n        onChange={(selectedOption) =>\n          setFilterState({ item: 'condition', selectedOption, rowIndex })\n        }\n        options={conditions}\n        styles={{}}\n        className='flex-grow w-full text-sm'\n      />\n\n      <Select\n        value={criteria}\n        onChange={(selectedOption) =>\n          setFilterState({ item: 'criteria', selectedOption, rowIndex })\n        }\n        options={criterias}\n        styles={{}}\n        className='flex-grow w-full text-sm'\n      />\n      <Button\n        text={<DeleteIcon />}\n        className='ml-2 px-2'\n        handleClick={() => removeFilter(rowIndex)}\n      />\n    </div>\n  )\n}\nexport default Filter\n","import React from 'react'\nimport cx from 'classnames'\nimport Button from '../button'\nimport Filter from '../filter'\nimport { conjunctions } from '../index'\n\nconst Card = ({\n  groupIndex,\n  handleConjunction,\n  state,\n  handleAddFilter,\n  handleFilterState,\n  removeFilter,\n  join,\n  className\n}) => {\n  const renderFilters = () => {\n    return filters.map((item, rowIndex) => {\n      return (\n        <Filter\n          key={rowIndex}\n          filterState={item}\n          setFilterState={(filterObj) =>\n            handleFilterState({ ...filterObj, groupIndex })\n          }\n          rowIndex={rowIndex}\n          removeFilter={() => removeFilter(rowIndex, groupIndex)}\n        />\n      )\n    })\n  }\n  const { filters, conjunction } = state\n  return (\n    <div className={cx('w-full bg-gray-800 rounded-sm p-5', className)}>\n      <div>\n        <Button\n          type={conjunction === conjunctions[0] ? 'primary' : ''}\n          text='AND'\n          handleClick={() => handleConjunction(conjunctions[0], groupIndex)}\n          className='rounded-r-none px-2'\n        />\n        <Button\n          type={conjunction === conjunctions[1] ? 'primary' : ''}\n          text='OR'\n          handleClick={() => handleConjunction(conjunctions[1], groupIndex)}\n          className='rounded-l-none px-2'\n        />\n      </div>\n      {renderFilters()}\n      <Button\n        type='primary'\n        text='+ Add filter'\n        handleClick={() => handleAddFilter(groupIndex)}\n        className='px-2'\n      />\n    </div>\n  )\n}\nexport default Card\n","import React from 'react'\n\nconst CrossIcon = ({ className }) => {\n  return (\n    <svg\n      width='14'\n      height='14'\n      viewBox='0 0 14 14'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n      className={className}\n    >\n      <path\n        d='M1 13L13 1M1 1L13 13'\n        stroke='#C7D2FE'\n        strokeWidth='2'\n        strokeLinecap='round'\n        strokeLinejoin='round'\n      />\n    </svg>\n  )\n}\nexport default CrossIcon\n","import React from 'react'\nimport CrossIcon from '../icons/cross'\nimport Button from '../button'\nconst Header = ({ query }) => {\n  return (\n    <div className='bg-indigo-500 w-full p-6'>\n      <div className='flex'>\n        <span className='text-white flex-grow'>Build your query</span>\n        <Button\n          text={<CrossIcon className='font-semibold' />}\n          className='bg-indigo-700 px-1'\n        />\n      </div>\n      <div className='bg-indigo-700 p-5 mt-4 rounded'>\n        <span>\n          <b className='text-white text-base'>Query:</b>\n          {/* {query} */}\n        </span>\n      </div>\n    </div>\n  )\n}\nexport default Header\n","import React, { useState, useEffect } from 'react'\n// import cx from 'classnames'\nimport 'tailwindcss/tailwind.css'\nimport Button from './button'\nimport Card from './card'\nimport Header from './header'\n\nexport const conjunctions = ['&&', '||']\n\nexport const QueryBuilder = () => {\n  const [state, setState] = useState([\n    {\n      filters: [{ field: null, condition: null, criteria: null }],\n      conjunction: conjunctions[0]\n    }\n  ])\n\n  const handleAddGroup = () => {\n    setState([\n      ...state,\n      {\n        filters: [{ field: null, condition: null, criteria: null }],\n        conjunction: conjunctions[0]\n      }\n    ])\n  }\n  const handleConjunction = (conjunction, groupIndex) => {\n    state[groupIndex].conjunction = conjunction\n    setState([...state])\n  }\n  const handleFilterState = ({\n    item,\n    selectedOption,\n    rowIndex,\n    groupIndex\n  }) => {\n    state[groupIndex].filters[rowIndex][item] = selectedOption\n    setState([...state])\n  }\n  const handleAddFilter = (groupIndex) => {\n    state[groupIndex].filters.push({\n      field: null,\n      condition: null,\n      criteria: null\n    })\n    setState([...state])\n  }\n  const removeFilter = (rowIndex, groupIndex) => {\n    if (state[groupIndex].filters.length === 1) return\n    state[groupIndex].filters.splice(rowIndex, 1)\n    setState([...state])\n  }\n\n  const render = () => {\n    return state.map((item, idx) => {\n      return (\n        <Card\n          key={idx}\n          state={state[idx]}\n          className='mb-5'\n          groupIndex={idx}\n          handleConjunction={handleConjunction}\n          handleAddFilter={handleAddFilter}\n          removeFilter={removeFilter}\n          handleFilterState={handleFilterState}\n        />\n      )\n    })\n  }\n  const [query, setQuery] = useState('')\n  const buildQuery = () => {\n    // eslint-disable-next-line no-unused-vars\n    let filterQuery = ''\n    for (let i = 0; i < state.length; i++) {\n      const group = state[i]\n      for (let j = 0; j < group.length; j++) {\n        const filter = group[j]\n        if (j === 0) {\n          filterQuery += `\"field.${filter.field?.value} ${filter.condition?.value} \\\\\"${filter.criteria?.value}\"\\\\\"`\n        } else {\n          filterQuery += `${join} \"field.${filter.field?.value} ${filter.condition?.value} \\\\\"${filter.criteria?.value}\"\\\\\"`\n        }\n      }\n    }\n    console.log(filterQuery)\n    setQuery(filterQuery)\n  }\n  useEffect(() => {\n    buildQuery()\n  }, [state])\n\n  return (\n    <div className='w-full bg-gray-900 pb-20'>\n      <Header query={query} />\n      <div className='container mt-52 mx-auto w-full'>\n        {render()}\n        <Button\n          text='+ Add New gropup filter'\n          type='primary'\n          handleClick={handleAddGroup}\n          className='px-2'\n        />\n      </div>\n    </div>\n  )\n}\n"],"names":["Base","text","handleClick","className","React","cx","Button","type","DeleteIcon","fields","label","options","value","conditions","criterias","Filter","filterState","setFilterState","rowIndex","removeFilter","field","condition","criteria","selectedOption","item","Card","groupIndex","handleConjunction","state","handleAddFilter","handleFilterState","join","renderFilters","filters","map","filterObj","conjunction","conjunctions","CrossIcon","Header","QueryBuilder","useState","setState","handleAddGroup","push","length","splice","render","idx","query","setQuery","buildQuery","filterQuery","i","group","j","filter","console","log","useEffect"],"mappings":"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"}