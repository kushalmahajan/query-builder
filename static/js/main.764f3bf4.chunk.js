(this["webpackJsonpquery-builder-example"]=this["webpackJsonpquery-builder-example"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);n(9);var a=n(0),l=n.n(a),r=n(1),i=n.n(r),c=n(2),o=n.n(c),s=n(3),u=function(e){var t=e.text,n=e.handleClick,a=e.className;return l.a.createElement("button",{className:o()("px-1 py-1",a,"rounded border-gray-700 border text-white text-sm"),onClick:function(){return n()}},l.a.createElement("span",{className:"text-center"},t))},m=function(e){var t=e.type,n=e.text,a=e.handleClick,r=e.className;return"primary"===t?l.a.createElement(u,{text:n,className:o()("bg-indigo-700",r),handleClick:a}):l.a.createElement(u,{text:n,className:r,handleClick:a})};function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=function(){return l.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M12.7843 0.25H1.21559C0.437466 0.25 0.399966 0.353125 0.446841 0.939062L1.3234 12.3109C1.3984 12.8875 1.45465 13.0047 2.14372 13.0047H11.8562C12.5453 13.0047 12.6015 12.8875 12.6765 12.3109L13.5531 0.939062C13.6 0.348437 13.5625 0.25 12.7843 0.25Z",fill:"#7E8083"}))},p=[{label:"Prediction",options:[{label:"Theme",value:"theme"},{label:"Subtheme",value:"subtheme"},{label:"Reason",value:"reason"},{label:"Language",value:"language"}]},{label:"Common",options:[{label:"CustomerId",value:"customer_id"},{label:"Group 2, option 2",value:"value_2"}]}],v=[{label:"Equals",value:"=="},{label:"Does not equals",value:"!="},{label:"Like",value:"%"}],x=[{label:"Offers",value:"offers"},{label:"Promotions",value:"promotions"}],h=function(e){var t=e.filterState,n=e.setFilterState,a=e.rowIndex,r=e.removeFilter,i=t.field,c=t.condition,o=t.criteria;return l.a.createElement("div",{className:"flex gap-4 mt-10 mb-5"},l.a.createElement(s.a,{value:i,onChange:function(e){return n({item:"field",selectedOption:e,rowIndex:a})},options:p,styles:{},className:"flex-grow w-full text-sm"}),l.a.createElement(s.a,{value:c,onChange:function(e){return n({item:"condition",selectedOption:e,rowIndex:a})},options:v,styles:{},className:"flex-grow w-full text-sm"}),l.a.createElement(s.a,{value:o,onChange:function(e){return n({item:"criteria",selectedOption:e,rowIndex:a})},options:x,styles:{},className:"flex-grow w-full text-sm"}),l.a.createElement(m,{text:l.a.createElement(f,null),className:"ml-2 px-2",handleClick:function(){return r(a)}}))},g=["&&","||"],E=function(e){var t=e.groupIndex,n=e.handleConjunction,a=e.state,r=e.handleAddFilter,i=e.handleFilterState,c=e.removeFilter,s=e.className,u=a.filters,f=a.conjunction;return l.a.createElement("div",{className:o()("w-full bg-gray-800 rounded-sm p-5",s)},l.a.createElement("div",null,l.a.createElement(m,{type:f===g[0]?"primary":"",text:"AND",handleClick:function(){return n(g[0],t)},className:"rounded-r-none px-2"}),l.a.createElement(m,{type:f===g[1]?"primary":"",text:"OR",handleClick:function(){return n(g[1],t)},className:"rounded-l-none px-2"})),u.map((function(e,n){return l.a.createElement(h,{key:n,filterState:e,setFilterState:function(e){return i(d({},e,{groupIndex:t}))},rowIndex:n,removeFilter:function(){return c(n,t)}})})),l.a.createElement(m,{type:"primary",text:"+ Add filter",handleClick:function(){return r(t)},className:"px-2"}))},b=function(e){var t=e.className;return l.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},l.a.createElement("path",{d:"M1 13L13 1M1 1L13 13",stroke:"#C7D2FE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},w=function(e){var t=e.query;return l.a.createElement("div",{className:"bg-indigo-500 w-full p-6"},l.a.createElement("div",{className:"flex"},l.a.createElement("span",{className:"text-white flex-grow"},"Build your query"),l.a.createElement(m,{text:l.a.createElement(b,{className:"font-semibold"}),className:"bg-indigo-700 px-1"})),l.a.createElement("div",{className:"bg-indigo-700 p-5 mt-4 rounded"},l.a.createElement("span",{className:"text-white"},l.a.createElement("b",{className:"text-base mr-1"},"Query:"),t)))},N=function(e){var t=e.handleFinish,n=e.handleBack,r=Object(a.useState)([{filters:[{field:null,condition:null,criteria:null}],conjunction:g[0]}]),i=r[0],c=r[1],o=function(e,t){i[t].conjunction=e,c([].concat(i))},s=function(e){var t=e.item,n=e.selectedOption,a=e.rowIndex,l=e.groupIndex;i[l].filters[a][t]=n,c([].concat(i))},u=function(e){i[e].filters.push({field:null,condition:null,criteria:null}),c([].concat(i))},d=function(e,t){1!==i[t].filters.length&&(i[t].filters.splice(e,1),c([].concat(i)))},f=Object(a.useState)(""),p=f[0],v=f[1];return Object(a.useEffect)((function(){!function(){for(var e="",t=0;t<i.length;t++){var n=i[t];t>0&&e&&(e=e+" "+n.conjunction+" ");for(var a=0;a<n.filters.length;a++){var l,r,c,o=n.filters[a];if(a>0&&e&&(e=e+" "+n.conjunction+" "),o.field)e+='"field.'+(null===(l=o.field)||void 0===l?void 0:l.value)+" ";if(o.condition)e+=(null===(r=o.condition)||void 0===r?void 0:r.value)+" ";if(o.criteria)e+='\\"'+(null===(c=o.criteria)||void 0===c?void 0:c.value)+'"\\"'}}v(e)}()}),[i]),l.a.createElement("div",{className:"w-full bg-gray-900 pb-20"},l.a.createElement(w,{query:p}),l.a.createElement("div",{className:"container mt-52 mx-auto w-full"},i.map((function(e,t){return l.a.createElement(E,{key:t,state:i[t],className:"mb-5",groupIndex:t,handleConjunction:o,handleAddFilter:u,removeFilter:d,handleFilterState:s})})),l.a.createElement(m,{text:"+ Add New gropup filter",type:"primary",handleClick:function(){c([].concat(i,[{filters:[{field:null,condition:null,criteria:null}],conjunction:g[0]}]))},className:"px-2"})),l.a.createElement("div",{className:"container mt-32 mx-auto w-full flex justify-between"},l.a.createElement(m,{text:"Back",handleClick:n,className:"px-2"}),l.a.createElement(m,{text:"Finish",type:"primary",handleClick:function(){return t(p)},className:"px-2"})))};n(30);var y=()=>l.a.createElement(N,{handleBack:()=>alert("fired"),handleFinish:e=>alert(JSON.stringify(e))});i.a.render(l.a.createElement(y,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(31)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.764f3bf4.chunk.js.map